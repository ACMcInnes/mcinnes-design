---
import { Image } from "astro:assets";
import amThumbnail from "../assets/am_thumbnail.jpg";
const { post } = Astro.props;
---

<article class="flex flex-col items-start justify-between">
  <div class="relative w-full">
    <Image
      src={post.data.thumbnail.src}
      alt={post.data.thumbnail.alt}
      class="aspect-video w-full rounded-2xl bg-gray-100 object-cover sm:aspect-2/1 lg:aspect-3/2"
    />
    <a href={`/blog/${post.id}`} class="absolute inset-0 rounded-2xl ring-1 ring-gray-900/10 dark:ring-gray-100/10 ring-inset" />
  </div>
  <div class="max-w-xl">
    <div class="mt-8 flex items-center gap-x-4 text-xs">
      <time
        datetime={post.data.date.toDateString()}
        class="text-gray-500 dark:text-gray-300"
      >
        {new Intl.DateTimeFormat("en-AU", { year: "numeric", month: "short", day: "numeric", timeZone: "Australia/Brisbane", }).format(post.data.date)}
      </time>
      <a
        href={post.data.category.url}
        class="relative z-10 rounded-full bg-gray-100 dark:bg-gray-700 px-3 py-1.5 font-medium text-gray-600 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-800"
      >
        {post.data.category.title}
      </a>
    </div>
    <div class="group relative">
      <h3 class="mt-3 text-lg/6 font-semibold text-gray-900 dark:text-gray-50 group-hover:text-gray-600 group-hover:dark:text-gray-300">
        <a href={`/blog/${post.id}`}>
          <span class="absolute inset-0" />
          {post.data.title}
        </a>
      </h3>
      <p class="mt-5 line-clamp-3 text-sm/6 text-gray-600 dark:text-gray-200">{post.data.description}</p>
    </div>
    <div class="relative mt-8 flex items-center gap-x-4">
      <Image
        src={amThumbnail}
        alt=""
        class="size-10 rounded-full bg-gray-100 dark:bg-gray-800"
      />
      <div class="text-sm/6">
        <p class="font-semibold text-gray-900 dark:text-gray-50">Andrew McInnes</p>
        <p class="text-gray-600 dark:text-gray-300">Founder</p>
      </div>
    </div>
  </div>
</article>
